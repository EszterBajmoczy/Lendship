<div *ngIf="isLoggedIn" class="search p-2">
  <form class="d-flex justify-content-between m-4" [formGroup]="searchForm" (ngSubmit)="searchSubmit()">
    <div class="d-flex">
      <button class="btn btn-primary" [ngClass]="{'btn-primary': isProperty(), 'btn-disabled': !isProperty()}"  (click)="changeAdvertisementType(property)">Property</button>
      <button class="btn btn-primary" [ngClass]="{'btn-primary': isService(), 'btn-disabled': !isService()}" (click)="changeAdvertisementType(service)">Service</button>
    </div>

    <div class="d-flex align-items-center">
      <input formControlName="credit" id="credit" type="checkbox" class="me-2 ms-0 w-auto filled-in">
      <label for="credit">Credit</label>
    </div>

    <div class="d-flex align-items-center">
      <input formControlName="cash" id="cash" type="checkbox" class="me-2 ms-0 w-auto filled-in">
      <label for="cash">Cash</label>
    </div>

    <div class="d-flex justify-content-between mt-4">
      <label class="col-lg-4" for="category">Category:</label>

      <ng-autocomplete
        id="category" type="text" formControlName="category" placeholder="Category"
        [data]="categories"
        [searchKeyword]="categoryKeyword"
        [itemTemplate]="itemTemplate"
        [notFoundTemplate]="notFoundTemplate">
      </ng-autocomplete>

      <ng-template #itemTemplate let-item>
        <a [innerHTML]="item.name"></a>
      </ng-template>

      <ng-template #notFoundTemplate let-notFound>
        <div [innerHTML]="notFound"></div>
      </ng-template>
    </div>

    <div class="d-flex align-items-center w-auto">
      <input id="city" type="text" formControlName="city" placeholder="City">
      <input id="distance" type="text" formControlName="distance" class="col-lg-1 me-1" >
      <label for="distance" class="w-auto">km</label>
    </div>

    <input id="word" type="text" formControlName="word" placeholder="Text">

    <select id="sortBy">
      <option value="Default">Default</option>
      <option value="Price">Price</option>
      <option value="Credit">Credit</option>
      <option value="Creation">Creation</option>
    </select>

    <button class="btn btn-primary" type="submit">Search</button>
  </form>
  <p *ngIf="error !== undefined"> {{error}}</p>
</div>
<div *ngIf="isLoggedIn" class="card-container container d-flex flex-wrap col-lg-10 justify-content-between">
  <div *ngFor="let ad of ads" class="card m-3" style="width: 18rem; height: 22rem" (click)="cardClicked(ad.id)">
    <img src="{{baseUrl}}images{{ad.imageLocation}}" class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">{{ad.title}}</h5>
      <div class="d-flex justify-content-between mt-4 mb-0">
        <p class="ad-details">{{ad.location}}</p>
        <p class="ad-details">{{ad.price}} Ft</p>
      </div>
    </div>
  </div>
</div>
